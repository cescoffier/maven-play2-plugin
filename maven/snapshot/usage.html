<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at Mar 29, 2013
 | Rendered using Apache Maven Fluido Skin 1.3.0
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20130329" />
    <meta http-equiv="Content-Language" content="en" />
    <title></title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.3.0.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.3.0.min.js"></script>

    
            </head>
        <body class="topBarDisabled">
          
    
    
            
    
        
    <a href="http://github.com/cescoffier/maven-play2-plugin">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"
        alt="Fork me on GitHub">
    </a>
  
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2>play2-maven-plugin</h2>
                </div>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
            
                  <li id="publishDate">Last Published: 2013-03-29</li>
                  <li class="divider">|</li> <li id="projectVersion">Version: 1.2.2-SNAPSHOT</li>
                      
                
            
      
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
            
                <ul class="nav nav-list">
                    <li class="nav-header">Overview</li>
                                
      <li>
    
                          <a href="index.html" title="Introduction">
          <i class="none"></i>
        Introduction</a>
            </li>
                  
      <li>
    
                          <a href="plugin-info.html" title="Goals">
          <i class="none"></i>
        Goals</a>
            </li>
                  
      <li class="active">
    
            <a href="#"><i class="none"></i>Usage</a>
          </li>
                  
      <li>
    
                          <a href="quickstart.html" title="Quickstart">
          <i class="none"></i>
        Quickstart</a>
            </li>
                  
      <li>
    
                          <a href="structure.html" title="Using the Maven Structure">
          <i class="none"></i>
        Using the Maven Structure</a>
            </li>
                  
      <li>
    
                          <a href="module.html" title="Play2 Modules">
          <i class="none"></i>
        Play2 Modules</a>
            </li>
                  
      <li>
    
                          <a href="war.html" title="Building a War file">
          <i class="none"></i>
        Building a War file</a>
            </li>
                  
      <li>
    
                          <a href="faq.html" title="FAQ">
          <i class="none"></i>
        FAQ</a>
            </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                                                                                                                        
      <li>
    
                          <a href="project-info.html" title="Project Information">
          <i class="icon-chevron-right"></i>
        Project Information</a>
                  </li>
                                                                                                                                                                                                                                      
      <li>
    
                          <a href="project-reports.html" title="Project Reports">
          <i class="icon-chevron-right"></i>
        Project Reports</a>
                  </li>
            </ul>
                
            
                
          <hr class="divider" />

           <div id="poweredBy">
                   
    <script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>

    
    <div class="g-plusone" data-href="https://github.com/cescoffier/maven-play2-plugin" data-size="tall" ></div>

                   <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span9" >
                                  
            <h1>Usage</h1>

<p>Before starting, be sure to have the <em>play</em> executable available from your <em>PATH</em> or to have defined the <em>PLAY2_HOME</em>
 system variable used by the plugin to find the Play 2 SDK. The packaging of your project must be <em>play2</em>.</p>

<pre><code>export PLAY2_HOME=...
# or
mvn clean install -DPLAY2_HOME=...
# or if play is available in your path
mvn clean install
</code></pre>

<p>It is also possible to defined this location form the pom file directly (see below).</p>

<p>Best practice is to define the version of the Play2 plugin that you want to use in either your <em>pom.xml</em>
or a parent <em>pom.xml</em>.</p>

<pre><code>&lt;project&gt;
    [...]
    &lt;build&gt;
        &lt;pluginManagement&gt;
            &lt;plugins&gt;
                &lt;plugin&gt;
                    &lt;groupId&gt;de.akquinet.innovation.play2&lt;/groupId&gt;
                    &lt;artifactId&gt;play2-maven-plugin&lt;/artifactId&gt;
                    &lt;version&gt;1.2.2-SNAPSHOT&lt;/version&gt;
                &lt;/plugin&gt;
            &lt;/plugins&gt;
        &lt;/pluginManagement&gt;
    &lt;/build&gt;
    [...]
&lt;/project&gt;
</code></pre>

<p>To use the play2-maven-plugin Plugin, you need to add the following configuration to your <em>pom.xml</em></p>

<pre><code>&lt;project&gt;
    [...]
    &lt;packaging&gt;play2&lt;/packaging&gt;
    [...]
    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;de.akquinet.innovation.play2&lt;/groupId&gt;
                &lt;artifactId&gt;play2-maven-plugin&lt;/artifactId&gt;
                &lt;version&gt;1.2.2-SNAPSHOT&lt;/version&gt;
                &lt;extensions&gt;true&lt;/extensions&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;
    [...]
&lt;/project&gt;
</code></pre>

<p>The play2-maven-plugin Plugin is invoked during the:</p>

<ul>
<li><em>process-resources</em> phase : copy (compile) dependencies to the <em>lib</em> directory</li>
<li><em>compile</em> phase: compile the Play 2 application</li>
<li><em>test</em> phase: run tests</li>
<li><em>package</em> phase: build the application package</li>
</ul>

<p>A full run, executing all the above steps:</p>

<pre><code>mvn clean install
</code></pre>

<h2>Setting Play 2 location from the pom file</h2>

<p>The <em>PLAY2</em> location can also be defined in the <em>pom.xml</em> file such as in:</p>

<pre><code>  &lt;plugin&gt;
    &lt;groupId&gt;de.akquinet.innovation.play2&lt;/groupId&gt;
    &lt;artifactId&gt;play2-maven-plugin&lt;/artifactId&gt;
    &lt;version&gt;1.2.2-SNAPSHOT&lt;/version&gt;
    &lt;extensions&gt;true&lt;/extensions&gt;
      &lt;configuration&gt;
        &lt;play2Home&gt;some/path/to/play-2.0&lt;/play2Home&gt;
      &lt;/configuration&gt;
  &lt;/plugin&gt;
</code></pre>

<p>The plugin is checking in this order:</p>

<ul>
<li>the PLAY2_HOME system variable (set with -DPLAY2_HOME=...)</li>
<li>the <em>play2Home</em> setting</li>
<li>the PLAY2_HOME environment variable</li>
</ul>

<p>If <em>PLAY2_HOME</em> is not defined, the plugin is looking inside the system <em>PATH</em> to find the <em>play</em> executable.</p>

<h2>Disable the distribution packaging</h2>

<p>By default the plugin generates two packages: a jar containing the application and a zip embedding all required files to
run the application. For Play 2 modules this second packages is useless, so you can disable it using:</p>

<pre><code>&lt;project&gt;
    [...]
    &lt;packaging&gt;play2&lt;/packaging&gt;
    [...]
    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;de.akquinet.innovation.play2&lt;/groupId&gt;
                &lt;artifactId&gt;play2-maven-plugin&lt;/artifactId&gt;
                &lt;version&gt;1.2.2-SNAPSHOT&lt;/version&gt;
                &lt;extensions&gt;true&lt;/extensions&gt;
                &lt;configuration&gt;
                    &lt;buildDist&gt;false&lt;/buildDist&gt;
                &lt;/configuration&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;
    [...]
&lt;/project&gt;
</code></pre>

<h2>Using a classifier</h2>

<p>You can set the packaging classifier, applied to both packages (jar and zip):</p>

<pre><code>&lt;project&gt;
    [...]
    &lt;packaging&gt;play2&lt;/packaging&gt;
    [...]
    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;de.akquinet.innovation.play2&lt;/groupId&gt;
                &lt;artifactId&gt;play2-maven-plugin&lt;/artifactId&gt;
                &lt;version&gt;1.2.2-SNAPSHOT&lt;/version&gt;
                &lt;extensions&gt;true&lt;/extensions&gt;
                &lt;configuration&gt;
                    &lt;classifier&gt;my-classifier&lt;/classifier&gt;
                &lt;/configuration&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;
    [...]
&lt;/project&gt;
</code></pre>

<h2>Adding files to distribution package</h2>

<p>You can set additional files to be appended to the play framework distribution zip file. This is done after the zip file
has been generated. All additional files are added to the top-level directory of the zip file (at the same level as the ./lib
and start script).</p>

<pre><code>&lt;project&gt;
    [...]
    &lt;packaging&gt;play2&lt;/packaging&gt;
    [...]
    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;de.akquinet.innovation.play2&lt;/groupId&gt;
                &lt;artifactId&gt;play2-maven-plugin&lt;/artifactId&gt;
                &lt;version&gt;1.2.2-SNAPSHOT&lt;/version&gt;
                &lt;extensions&gt;true&lt;/extensions&gt;
                &lt;configuration&gt;
                    &lt;additionalFiles&gt;
                        &lt;additionalFile&gt;${basedir}/your-start-script&lt;/additionalFile&gt;
                    &lt;/additionalFiles&gt;
                &lt;/configuration&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;
    [...]
&lt;/project&gt;
</code></pre>

<h2>Downloading and installing Play 2 distributions</h2>

<p>You can use the <em>install-play</em> goal to download and install Play 2 distributions.</p>

<p>On your prompt type;</p>

<pre><code>mvn de.akquinet.innovation.play2:play2-maven-plugin:install-play -Dplay2version=2.1.0 -Dplay2basedir=${HOME}/opt
</code></pre>

<p>to install Play 2.1.0 in <em>${HOME}/opt/play-2.1.0</em>.</p>

<p>Or register the <em>install-play</em> goal in your <em>pom.xml</em> and use the installed distribution through the plugin by adding;</p>

<pre><code>&lt;project&gt;
    [...]
    &lt;properties&gt;
        [...]
        &lt;play2.version&gt;2.1.0&lt;/play2.version&gt;
        [...]
    &lt;/properties&gt;
    [...]
    &lt;build&gt;
        &lt;plugins&gt;
            [...]
            &lt;plugin&gt;
                &lt;groupId&gt;de.akquinet.innovation.play2&lt;/groupId&gt;
                &lt;artifactId&gt;play2-maven-plugin&lt;/artifactId&gt;
                &lt;version&gt;1.2.2-SNAPSHOT&lt;/version&gt;
                &lt;extensions&gt;true&lt;extensions&gt;
                &lt;configuration&gt;
                    &lt;play2Home&gt;${user.home}/opt/play-${play2.version}&lt;/play2Home&gt;
                &lt;/configuration&gt;
                &lt;executions&gt;
                    &lt;execution&gt;
                        &lt;id&gt;play-installation&lt;/id&gt;
                        &lt;goals&gt;
                            &lt;goal&gt;install-play&lt;/goal&gt;
                        &lt;/goals&gt;
                        &lt;phase&gt;pre-clean&lt;/phase&gt;
                        &lt;configuration&gt;
                            &lt;play2version&gt;${play2.version}&lt;/play2version&gt;
                            &lt;play2basedir&gt;${user.home}/opt&lt;/play2basedir&gt;
                        &lt;/configuration&gt;
                    &lt;/execution&gt;
                &lt;/executions&gt;
            &lt;/plugin&gt;
            [...]
        &lt;/plugins&gt;
    &lt;/build&gt;
    [...]
&lt;/project&gt;
</code></pre>

<p>The Maven process must be able to write and execute into <em>play2basedir</em>.
If the requested version is already installed nothing gets downloaded.</p>

<h2>Adding system properties to play2 execution process</h2>

<pre><code>&lt;project&gt;
    [...]
    &lt;packaging&gt;play2&lt;/packaging&gt;
    [...]
    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                &lt;groupId&gt;de.akquinet.innovation.play2&lt;/groupId&gt;
                &lt;artifactId&gt;play2-maven-plugin&lt;/artifactId&gt;
                &lt;version&gt;1.2.2-SNAPSHOT&lt;/version&gt;
                &lt;extensions&gt;true&lt;/extensions&gt;
                &lt;configuration&gt;
                  &lt;play2SystemProperties&gt;
                    &lt;property&gt;&lt;name&gt;hello&lt;/name&gt;&lt;value&gt;world&lt;/value&gt;&lt;/property&gt;
                    &lt;property&gt;&lt;name&gt;javax.net.debug&lt;/name&gt;&lt;value&gt;ssl&lt;/value&gt;&lt;/property&gt;
                  &lt;/play2SystemProperties&gt;
               &lt;/configuration&gt;
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;
    [...]
&lt;/project&gt;
</code></pre>

                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
              <div class="row span12">Copyright &copy;                   2012-2013.
          All Rights Reserved.      
            
      </div>

        
        
                </div>
    </footer>
  </body>
</html>
